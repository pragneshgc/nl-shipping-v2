import{r as c,c as g,o as D,a as h,b as o,d as l,e,w as v,v as N,F as b,f as k,g as y,t as d,h as E,p as x,i as F}from"./app-mIK5RKsM.js";const T={class:"content"},V={class:"card card-border pb-20 text-center"},L=e("h3",{class:"mb-20"},"Import tracking codes",-1),U=e("option",{value:"",disabled:""},"Please select an option",-1),M=["value"],z={class:"input-container mt-20"},P={class:"browse-btn"},j={class:"file-info"},q={class:"text-center"},A=["disabled"],G={key:0,class:"loader",style:{}},H={key:1},J={class:"card mt-10"},K={class:"tracking-list"},O=["href"],W={__name:"ImportTracking",setup(Q){const r=c(""),n=c(""),u=c(!1),i=c(""),m=c([]),p=c([]),I=g(()=>_.isEmpty(n.value)?"Upload a file":n.value),S=g(()=>_.isEmpty(n.value)?"Upload":"Importing tracking");D(()=>{h.get("/delivery-companies").then(a=>{m.value=a.data.data})});const w=()=>{document.getElementById("file").click()},B=a=>{let t=a.target;t&&t.files&&(r.value=t.files[0],n.value=t.files[0].name)},C=()=>{u.value=!0;let a=new FormData;a.append("file",r.value.files),a.append("option",i.value),h.post("/import-tracking",a,{headers:{"Content-type":"multipart/form-data"}}).then(t=>{p.value=t.data.data,x("Import tracking uploaded"),r.value="",n.value="",i.value="",u.value=!1}).catch(t=>{x("Import tracking could not be uploaded"),r.value="",n.value="",i.value="",u.value=!1})};return(a,t)=>(o(),l("div",null,[e("div",T,[e("section",V,[L,v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),class:"browser-default custom-select big-select"},[U,(o(!0),l(b,null,k(m.value,s=>(o(),l("option",{value:s.SettingID},d(s.Name),9,M))),256))],512),[[N,i.value]]),v(e("div",z,[e("input",{type:"file",name:"tracking",id:"file",ref_key:"file",ref:r,onChange:t[1]||(t[1]=s=>B(s))},null,544),e("div",{class:"input-mask",onClick:w},[e("button",P,d(S.value),1),e("span",j,d(I.value),1)])],512),[[y,i.value!=""]])]),e("section",q,[n.value!=""&&i.value!=""?(o(),l("button",{key:0,disabled:u.value,class:"btn btnSize01 tertiaryBtn bigButton mr-10 big-round-button",onClick:C},[u.value?(o(),l("div",G,"Loading...")):(o(),l("span",H,"Import"))],8,A)):E("",!0)]),v(e("section",J,[e("ul",K,[(o(!0),l(b,null,k(p.value,(s,f)=>(o(),l("li",null,[e("a",{target:"_blank",href:"#/order/"+f},d(f),9,O),F(" - "+d(s),1)]))),256))])],512),[[y,p.value.length!=0]])])]))}};export{W as default};
