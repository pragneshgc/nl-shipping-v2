import{r as i,c as h,o as D,a as f,b as s,d as o,e as t,w as v,v as N,F as b,f as k,g as y,t as r,h as E,p as x,i as F}from"./app-HJno7Dcb.js";const T={class:"content"},V={class:"card card-border pb-20 text-center"},L=t("h3",{class:"mb-20"},"Import tracking codes",-1),U=t("option",{value:"",disabled:""},"Please select an option",-1),M=["value"],z={class:"input-container mt-20"},P={class:"browse-btn"},j={class:"file-info"},q={class:"text-center"},A=["disabled"],G={key:0,class:"loader",style:{}},H={key:1},J={class:"card mt-10"},K={class:"tracking-list"},O=["href"],W={__name:"ImportTracking",setup(Q){const u=i(""),n=i(""),c=i(!1),l=i(""),m=i([]),p=i([]),I=h(()=>_.isEmpty(n.value)?"Upload a file":n.value),S=h(()=>_.isEmpty(n.value)?"Upload":"Importing tracking");D(()=>{f.get("/delivery-companies").then(e=>{m.value=e.data.data})});const w=()=>{document.getElementById("file").click()},B=e=>{u.value=e.target.files[0],n.value=e.target.files[0].name},C=()=>{c.value=!0;let e=new FormData;e.append("file",u.value),e.append("option",l.value);const d={headers:{"content-type":"multipart/form-data"}};f.post("/import-tracking",e,d).then(a=>{p.value=a.data.data,x("Import tracking uploaded"),u.value="",n.value="",l.value="",c.value=!1}).catch(a=>{x("Import tracking could not be uploaded"),u.value="",n.value="",l.value="",c.value=!1})};return(e,d)=>(s(),o("div",null,[t("div",T,[t("section",V,[L,v(t("select",{"onUpdate:modelValue":d[0]||(d[0]=a=>l.value=a),class:"browser-default custom-select big-select"},[U,(s(!0),o(b,null,k(m.value,a=>(s(),o("option",{value:a.SettingID},r(a.Name),9,M))),256))],512),[[N,l.value]]),v(t("div",z,[t("input",{type:"file",name:"tracking",id:"file",onChange:B},null,32),t("div",{class:"input-mask",onClick:w},[t("button",P,r(S.value),1),t("span",j,r(I.value),1)])],512),[[y,l.value!=""]])]),t("section",q,[n.value!=""&&l.value!=""?(s(),o("button",{key:0,disabled:c.value,class:"btn btnSize01 tertiaryBtn bigButton mr-10 big-round-button",onClick:C},[c.value?(s(),o("div",G,"Loading...")):(s(),o("span",H,"Import"))],8,A)):E("",!0)]),v(t("section",J,[t("ul",K,[(s(!0),o(b,null,k(p.value,(a,g)=>(s(),o("li",null,[t("a",{target:"_blank",href:"#/order/"+g},r(g),9,O),F(" - "+r(a),1)]))),256))])],512),[[y,p.value.length!=0]])])]))}};export{W as default};
